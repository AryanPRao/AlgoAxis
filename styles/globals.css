@import "tailwindcss";
@import "tw-animate-css";
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@custom-variant dark (&:is(.dark *));

:root {
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

@theme inline {
  /* optional: --font-sans, --font-serif, --font-mono if they are applied in the layout.tsx */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  --primary-gradient: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #0f172a 100%);
  --accent-gradient: linear-gradient(135deg, #3b82f6 0%, #6366F1 100%);
  --success-gradient: linear-gradient(135deg, #10b981 0%, #059669 100%);
  --warning-gradient: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  --danger-gradient: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  --glass-bg: rgba(255, 255, 255, 0.05);
  --glass-border: rgba(255, 255, 255, 0.08);
  
  /* Dark mode colors (default) */
  --bg-primary: #0f172a;
  --bg-secondary: #1e293b;
  --text-primary: #F9FAFB;
  --text-secondary: rgba(241, 245, 249, 0.8);
  --text-muted: rgba(241, 245, 249, 0.5);
  --border-color: rgba(255, 255, 255, 0.1);
  --shadow-color: rgba(0, 0, 0, 0.3);
  --bento-bg: rgba(255, 255, 255, 0.03);
  --bento-border: rgba(255, 255, 255, 0.08);
  --bento-hover-bg: rgba(255, 255, 255, 0.06);
}

/* Light mode overrides */
[data-theme='light'] {
  --primary-gradient: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #f1f5f9 100%);
  --accent-gradient: linear-gradient(135deg, #3b82f6 0%, #6366F1 100%);
  --success-gradient: linear-gradient(135deg, #10b981 0%, #059669 100%);
  --warning-gradient: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  --danger-gradient: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
  --glass-bg: rgba(255, 255, 255, 0.7);
  --glass-border: rgba(0, 0, 0, 0.1);
  
  --bg-primary: #f8fafc;
  --bg-secondary: #e2e8f0;
  --text-primary: #0f172a;
  --text-secondary: #334155;
  --text-muted: #64748b;
  --border-color: rgba(0, 0, 0, 0.1);
  --shadow-color: rgba(0, 0, 0, 0.1);
  --bento-bg: rgba(255, 255, 255, 0.9);
  --bento-border: rgba(0, 0, 0, 0.08);
  --bento-hover-bg: rgba(255, 255, 255, 1);
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell",
    sans-serif;
  background: var(--primary-gradient);
  min-height: 100vh;
  overflow-x: hidden;
  pointer-events: auto !important;
  color: var(--text-primary);
  font-weight: 400;
  line-height: 1.7;
  letter-spacing: -0.01em;
  transition: background 0.4s cubic-bezier(0.23, 1, 0.32, 1), color 0.4s cubic-bezier(0.23, 1, 0.32, 1);
}

input,
button,
a,
form,
label {
  pointer-events: auto !important;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Navbar Styles */
.navbar-custom {
  background: linear-gradient(135deg, rgba(15, 23, 42, 0.7) 0%, rgba(30, 41, 59, 0.5) 100%);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  padding: 1.2rem 2rem;
  position: sticky;
  top: 0;
  z-index: 1000;
}

.navbar-brand {
  font-size: 1.75rem;
  font-weight: 800;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -0.5px;
  transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
}

.navbar-brand:hover {
  transform: scale(1.05);
  filter: drop-shadow(0 0 10px rgba(59, 130, 246, 0.3));
}

.nav-link {
  color: rgba(241, 245, 249, 0.8) !important;
  font-weight: 500;
  margin: 0 0.75rem;
  transition: all 0.3s ease;
  position: relative;
  font-size: 0.95rem;
}

.nav-link::after {
  content: "";
  position: absolute;
  bottom: -8px;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--accent-gradient);
  transition: width 0.3s cubic-bezier(0.23, 1, 0.32, 1);
  border-radius: 1px;
}

.nav-link:hover {
  color: #3b82f6 !important;
}

.nav-link:hover::after {
  width: 100%;
}

.user-greeting {
  color: #f1f5f9;
  font-weight: 600;
  margin-right: 1rem;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(6, 182, 212, 0.2) 100%);
  padding: 0.6rem 1.2rem;
  border-radius: 25px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(59, 130, 246, 0.3);
  font-size: 0.9rem;
}

.btn-logout {
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%);
  border: 1.5px solid rgba(59, 130, 246, 0.4);
  color: #3b82f6;
  font-weight: 600;
  padding: 0.6rem 1.5rem;
  border-radius: 8px;
  transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
  font-size: 0.9rem;
}

.btn-logout:hover {
  background: var(--accent-gradient);
  color: white;
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(59, 130, 246, 0.4);
  border-color: #3b82f6;
}

/* Card Styles */
.feature-card {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%);
  border-radius: 16px;
  padding: 2.5rem;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
  transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
  border: 1px solid rgba(255, 255, 255, 0.1);
  position: relative;
  overflow: hidden;
  backdrop-filter: blur(10px);
}

.feature-card::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.2), transparent);
  transition: left 0.5s ease;
}

.feature-card:hover::before {
  left: 100%;
}

.feature-card:hover {
  transform: translateY(-12px);
  box-shadow: 0 20px 60px rgba(59, 130, 246, 0.2);
  border-color: rgba(59, 130, 246, 0.3);
}

.card-icon {
  font-size: 3.5rem;
  margin-bottom: 1.5rem;
  background: var(--accent-gradient);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  transition: all 0.3s ease;
}

.feature-card:hover .card-icon {
  transform: scale(1.1);
}

.card-title {
  font-family: 'Inter', -apple-system, sans-serif;
  font-size: 1.375rem;
  font-weight: 600;
  margin-bottom: 1rem;
  color: #F9FAFB;
  letter-spacing: -0.02em;
  line-height: 1.4;
}

.card-text {
  color: #9CA3AF;
  font-size: 0.9375rem;
  font-weight: 300;
  line-height: 1.7;
  margin-bottom: 1.75rem;
  letter-spacing: 0.01em;
}

/* Button Styles */
.btn-primary-custom {
  background: var(--accent-gradient);
  border: none;
  padding: 0.8rem 2rem;
  font-weight: 600;
  border-radius: 8px;
  color: white;
  transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
  box-shadow: 0 8px 24px rgba(59, 130, 246, 0.3);
  font-size: 0.95rem;
  position: relative;
  overflow: hidden;
}

.btn-primary-custom::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
  transition: left 0.5s ease;
}

.btn-primary-custom:hover::before {
  left: 100%;
}

.btn-primary-custom:hover {
  transform: translateY(-3px);
  box-shadow: 0 15px 40px rgba(59, 130, 246, 0.5);
}

.btn-primary-custom:active {
  transform: translateY(-1px);
}

.btn-secondary-custom {
  background: rgba(255, 255, 255, 0.1);
  border: 1.5px solid rgba(255, 255, 255, 0.2);
  padding: 0.8rem 2rem;
  font-weight: 600;
  border-radius: 8px;
  color: #f1f5f9;
  transition: all 0.3s ease;
  backdrop-filter: blur(10px);
  font-size: 0.95rem;
}

.btn-secondary-custom:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(59, 130, 246, 0.5);
  color: #3b82f6;
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(59, 130, 246, 0.2);
}

/* Container Styles */
.container-custom {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 3rem;
}

/* Page Header */
.page-header {
  text-align: center;
  color: white;
  margin: 5rem 0 4rem;
  animation: fadeInDown 0.8s ease-out;
}

.page-title {
  font-family: 'Inter', -apple-system, sans-serif;
  font-size: 3.75rem;
  font-weight: 700;
  margin-bottom: 1.5rem;
  background: linear-gradient(135deg, #60A5FA 0%, #6366F1 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  letter-spacing: -0.03em;
  line-height: 1.1;
}

.page-subtitle {
  font-family: 'Inter', -apple-system, sans-serif;
  font-size: 1.125rem;
  font-weight: 300;
  color: #9CA3AF;
  letter-spacing: 0.01em;
  line-height: 1.6;
  max-width: 600px;
  margin: 0 auto;
}

/* Form Styles */
.form-control-custom {
  border-radius: 8px;
  padding: 0.875rem 1.25rem;
  border: 1.5px solid rgba(59, 130, 246, 0.2);
  transition: all 0.3s ease;
  background: rgba(255, 255, 255, 0.08);
  color: #f1f5f9;
  backdrop-filter: blur(10px);
}

.form-control-custom::placeholder {
  color: rgba(241, 245, 249, 0.5);
}

.form-control-custom:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
  background: rgba(255, 255, 255, 0.1);
}

.form-label-custom {
  font-weight: 600;
  color: #f1f5f9;
  margin-bottom: 0.75rem;
}

/* Table Styles */
.table-custom {
  background: rgba(10, 1, 24, 0.6);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(16px);
}

.table-custom thead {
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.3) 0%, rgba(139, 92, 246, 0.25) 100%);
  color: white;
  border-bottom: 1px solid rgba(99, 102, 241, 0.3);
}

.table-custom thead th {
  font-weight: 600;
  padding: 1rem 1.25rem;
  border: none;
  color: #F3F4F6;
  font-size: 0.9rem;
  font-family: 'Inter', -apple-system, sans-serif;
}

.table-custom tbody tr {
  transition: all 0.3s ease;
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.table-custom tbody tr:hover {
  background: rgba(99, 102, 241, 0.08);
  transform: translateY(-2px);
}

.table-custom tbody td {
  padding: 1rem 1.25rem;
  vertical-align: middle;
  color: #D1D5DB;
  font-size: 0.95rem;
}

/* Ensure Bootstrap's .table default white backgrounds are overridden
   so the table sits visually on the dark glass card container */
.table.table-custom {
  background: transparent;
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
}

.table.table-custom thead,
.table.table-custom tbody,
.table.table-custom tr,
.table.table-custom th,
.table.table-custom td {
  background: transparent !important;
}

.table.table-custom thead th {
  /* keep header gradient but don't let bootstrap white bleed through */
  background: linear-gradient(135deg, rgba(99, 102, 241, 0.3) 0%, rgba(139, 92, 246, 0.25) 100%);
}

/* Badge Styles */
.badge-easy {
  background: var(--success-gradient);
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-weight: 600;
  color: white;
  font-size: 0.85rem;
}

.badge-medium {
  background: var(--warning-gradient);
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-weight: 600;
  color: white;
  font-size: 0.85rem;
}

.badge-hard {
  background: var(--danger-gradient);
  padding: 0.5rem 1rem;
  border-radius: 20px;
  font-weight: 600;
  color: white;
  font-size: 0.85rem;
}

/* Animation */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.fade-in-up {
  animation: fadeInUp 0.6s ease-out forwards;
}

.fade-in-down {
  animation: fadeInDown 0.6s ease-out forwards;
}

.slide-in-left {
  animation: slideInLeft 0.6s ease-out forwards;
}

.slide-in-right {
  animation: slideInRight 0.6s ease-out forwards;
}

.scale-in {
  animation: scaleIn 0.6s ease-out forwards;
}

/* Responsive */
@media (max-width: 768px) {
  .page-title {
    font-size: 2.2rem;
  }

  .feature-card {
    padding: 1.5rem;
  }

  .container-custom {
    padding: 0 1.5rem;
  }

  .navbar-brand {
    font-size: 1.4rem;
  }
}

/* Loading Spinner */
.spinner-custom {
  border: 3px solid rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  border-top: 3px solid #3b82f6;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
  margin: 2rem auto;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

/* Alert Styles */
.alert-custom {
  border-radius: 12px;
  padding: 1.25rem 1.5rem;
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  backdrop-filter: blur(10px);
}

.alert-success {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.15) 0%, rgba(5, 150, 105, 0.1) 100%);
  border-color: rgba(16, 185, 129, 0.3);
  color: #10b981;
}

.alert-danger {
  background: linear-gradient(135deg, rgba(239, 68, 68, 0.15) 0%, rgba(220, 38, 38, 0.1) 100%);
  border-color: rgba(239, 68, 68, 0.3);
  color: #ef4444;
}

/* Glassmorphism effect */
.glass-effect {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.08) 0%, rgba(255, 255, 255, 0.04) 100%);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Theme Toggle Styles */
.theme-toggle-container {
  position: fixed;
  top: 120px;
  right: 2rem;
  z-index: 999;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  background: var(--glass-bg);
  backdrop-filter: blur(12px);
  border: 1px solid var(--glass-border);
  border-radius: 50px;
  padding: 0.5rem 0.75rem;
  box-shadow: 0 8px 32px var(--shadow-color);
  transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
}

.theme-toggle-container:hover {
  background: var(--bento-hover-bg);
  box-shadow: 0 12px 40px var(--shadow-color);
}

.theme-icon-label {
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-muted);
  transition: color 0.3s ease, opacity 0.3s ease;
}

.theme-toggle-container[data-state='checked'] .light-icon,
.theme-toggle-container[data-state='unchecked'] .dark-icon {
  color: var(--text-primary);
  opacity: 1;
}

.theme-toggle-container[data-state='unchecked'] .light-icon,
.theme-toggle-container[data-state='checked'] .dark-icon {
  opacity: 0.5;
}

.icon-size {
  width: 16px;
  height: 16px;
}

.theme-switch {
  position: relative;
  width: 44px;
  height: 24px;
  background: var(--bento-bg);
  border: 2px solid var(--border-color);
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
  outline: none;
  padding: 0;
}

.theme-switch:hover {
  background: var(--bento-hover-bg);
  border-color: rgba(59, 130, 246, 0.4);
}

.theme-switch:focus-visible {
  outline: 2px solid rgba(59, 130, 246, 0.5);
  outline-offset: 2px;
}

.theme-switch-thumb {
  position: absolute;
  top: 2px;
  left: 2px;
  width: 16px;
  height: 16px;
  background: linear-gradient(135deg, #60a5fa, #3b82f6);
  border-radius: 50%;
  transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.theme-switch-thumb[data-state='checked'] {
  transform: translateX(20px);
  background: linear-gradient(135deg, #8b5cf6, #6366f1);
}

[data-theme='light'] .theme-switch-thumb {
  background: linear-gradient(135deg, #f59e0b, #ea580c);
}

[data-theme='light'] .theme-switch-thumb[data-state='checked'] {
  background: linear-gradient(135deg, #6366f1, #4f46e5);
}

/* Old theme toggle styles - can be removed */
.theme-toggle-btn,
.theme-toggle-inner,
.theme-icon,
.theme-toggle-label {
  display: none;
}

/* Update existing components to use CSS variables for smooth transitions */
.navbar-custom {
  background: linear-gradient(135deg, var(--glass-bg) 0%, rgba(30, 41, 59, 0.5) 100%);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid var(--border-color);
  box-shadow: 0 8px 32px var(--shadow-color);
  transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
}

.nav-link {
  color: var(--text-secondary) !important;
  transition: all 0.3s ease;
}

.card-custom {
  transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
}

/* Update bento grid items */
.bento-item {
  background: var(--bento-bg);
  border: 1px solid var(--bento-border);
  backdrop-filter: blur(12px);
  transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
}

.bento-item:hover {
  background: var(--bento-hover-bg);
  border-color: rgba(59, 130, 246, 0.3);
}

[data-theme='light'] .bento-item {
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
}

[data-theme='light'] .bento-item:hover {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
  transform: translateY(-4px);
}

/* Force non-header text dark in light mode (avoid changing h1-h6) */
[data-theme='light'] body,
[data-theme='light'] p,
[data-theme='light'] span,
[data-theme='light'] li,
[data-theme='light'] a,
[data-theme='light'] label,
[data-theme='light'] input,
[data-theme='light'] textarea,
[data-theme='light'] select,
[data-theme='light'] button,
[data-theme='light'] .cardDescription,
[data-theme='light'] .glassTextGlow,
[data-theme='light'] .magicBentoCardDescription,
[data-theme='light'] .magicBentoCardTitle,
[data-theme='light'] .nav-link,
[data-theme='light'] .user-greeting,
[data-theme='light'] .dropdown-item,
[data-theme='light'] .form-control,
[data-theme='light'] .form-select {
  color: var(--text-primary) !important;
}

/* Ensure links are readable but slightly muted */
[data-theme='light'] a {
  color: var(--text-secondary) !important;
}

/* Keep headers using their own styles (don't override h1-h6) */

/* Modal and Popup styles for light mode */
[data-theme='light'] .modal,
[data-theme='light'] .modal-content,
[data-theme='light'] .modal-body,
[data-theme='light'] .modal-header,
[data-theme='light'] .modal-footer {
  background: rgba(255, 255, 255, 0.98);
  color: var(--text-primary);
  border-color: rgba(0, 0, 0, 0.1);
}

[data-theme='light'] .modal-title,
[data-theme='light'] .modal-body h1,
[data-theme='light'] .modal-body h2,
[data-theme='light'] .modal-body h3,
[data-theme='light'] .modal-body h4,
[data-theme='light'] .modal-body h5,
[data-theme='light'] .modal-body h6 {
  color: var(--text-primary);
}

[data-theme='light'] .modal-body p,
[data-theme='light'] .modal-body span,
[data-theme='light'] .modal-body div,
[data-theme='light'] .modal-body label {
  color: var(--text-secondary);
}

[data-theme='light'] .form-control,
[data-theme='light'] .form-select,
[data-theme='light'] input,
[data-theme='light'] textarea,
[data-theme='light'] select {
  background: rgba(255, 255, 255, 0.9);
  color: var(--text-primary);
  border-color: rgba(0, 0, 0, 0.15);
}

[data-theme='light'] .form-control::placeholder,
[data-theme='light'] input::placeholder,
[data-theme='light'] textarea::placeholder {
  color: var(--text-muted);
}

/* Bootstrap modal backdrop for light mode */
[data-theme='light'] .modal-backdrop {
  background-color: rgba(15, 23, 42, 0.5);
}

/* Dropdown and select menus in light mode */
[data-theme='light'] .dropdown-menu {
  background: rgba(255, 255, 255, 0.98);
  border-color: rgba(0, 0, 0, 0.1);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

[data-theme='light'] .dropdown-item {
  color: var(--text-secondary);
}

[data-theme='light'] .dropdown-item:hover {
  background: rgba(59, 130, 246, 0.1);
  color: var(--text-primary);
}

/* Strong overrides for Suggest (AI) modal: defeat inline styles and
   ensure all non-header text inside the suggestion modal is dark in
   light mode and the recommendations list has a lightly colored
   background (like the magic bento). */
[data-theme='light'] .modal-content .modal-body p,
[data-theme='light'] .modal-content .modal-body small,
[data-theme='light'] .modal-content .modal-body span,
[data-theme='light'] .modal-content .modal-body label,
[data-theme='light'] .modal-content .modal-body .text-muted {
  color: var(--text-secondary) !important;
}

/* Make the recommendation list and its items lightly coloured in
   light mode (use !important to override any inline or bootstrap
   defaults). This mirrors the soft bento look even when colors are
   hardcoded in JS. */
[data-theme='light'] .modal-content .list-group {
  background: transparent !important;
  padding: 0.25rem !important;
}

[data-theme='light'] .modal-content .list-group-item {
  background: var(--bento-bg) !important;
  border: 1px solid var(--bento-border) !important;
  color: var(--text-primary) !important;
  border-radius: 10px !important;
  margin-bottom: 0.5rem !important;
  box-shadow: 0 6px 18px rgba(0,0,0,0.06) !important;
}

/* Ensure small helper text inside the modal (e.g. "Select 'None'...")
   also becomes dark in light mode even when inline styles exist. */
[data-theme='light'] .modal-content small,
[data-theme='light'] .modal-content .form-label,
[data-theme='light'] .modal-content .form-label-custom {
  color: var(--text-secondary) !important;
}

/* Topic button list styling for Suggest modal */
.topic-button {
  width: 100%;
  padding: 12px 14px;
  background-color: rgba(23,13,39,0.9);
  border: 1px solid transparent;
  border-radius: 10px;
  margin-bottom: 0.75rem;
  color: #dbeafe;
  font-weight: 600;
  cursor: pointer;
  text-align: left;
  transition: all 0.18s ease;
  box-shadow: none;
}

.topic-button:hover {
  background-color: rgba(30,23,45,0.92);
}

.topic-button[data-selected="true"] {
  background-color: rgba(39,30,55,0.95);
  border: 1px solid rgba(99,102,241,0.3);
  box-shadow: 0 8px 24px rgba(99,102,241,0.12);
}

/* Light mode topic buttons */
[data-theme='light'] .topic-button {
  background-color: var(--bento-bg);
  border: 1px solid var(--bento-border);
  color: var(--text-primary);
  box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}

[data-theme='light'] .topic-button:hover {
  background-color: rgba(255, 255, 255, 0.95);
  box-shadow: 0 8px 24px rgba(0,0,0,0.08);
}

[data-theme='light'] .topic-button[data-selected="true"] {
  background-color: rgba(255, 255, 255, 1);
  border: 1px solid rgba(99,102,241,0.4);
  box-shadow: 0 8px 28px rgba(99,102,241,0.15);
  color: var(--text-primary);
}
